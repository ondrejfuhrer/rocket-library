<% if @rental.errors.any? %>
alert('This book cannot be rented.');
<% else %>
$('#book-<%= @rental.book.id %>').replaceWith("<%= j render(partial: 'books/book', locals: {book: @rental.book}).html_safe %>");
<% end %>